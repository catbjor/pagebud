<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>PageBud</title> <!-- Theme -->
  <script src="theme-init.js"></script> <!-- Styles -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link href="style.css?v=cards2" rel="stylesheet" /> <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script src="firebase-init.js"></script>
</head>

<body>
  <div class="app-container">
    <header class="header">
      <div class="title-stack">
        <h1 class="page-title">PageBud</h1>
        <div id="homeGreeting" class="page-subtle"></div>
      </div>
      <div class="header-actions"></div>
    </header>
    <div class="categories scroll-x" id="filter-chips">
      <div class="category active" data-filter="all">All Books</div>
      <div class="category" data-filter="favorites">Favorites</div>
      <div class="category" data-filter="reading">Reading</div>
      <div class="category" data-filter="finished">Finished</div>
      <div class="category" data-filter="tbr">TBR</div>
      <div class="category" data-filter="dnf">DNF</div>
      <div class="category" data-filter="owned">Books I Own</div>
      <div class="category" data-filter="wishlist">Wishlist</div>
    </div>
    <div class="row pad"> <input class="input" id="search-input" placeholder="Search by title or author..."
        type="search" />
      <div class="chip-group" id="viewToggle"> <button class="chip active" id="viewGrid" data-view="grid">Grid</button>
        <button class="chip" id="viewList" data-view="list">List</button>
      </div>
    </div>
    <section class="pad">
      <div class="card">
        <div class="card-head">
          <h2>My Library</h2>
        </div>
        <div class="books-grid" id="books-grid"></div>
        <div class="muted small" id="empty-state" style="display:none;padding:12px"> Your library is empty. Tap + to add
          a book. </div>
      </div>
    </section> <!-- Social Feed Preview -->
    <section class="pad" id="social-feed-preview-section">
      <div class="card">
        <div class="card-head">
          <h2>Friends Activity</h2> <a href="feed.html" class="btn btn-secondary"
            style="padding: 4px 10px; font-size: .85rem;">See all</a>
        </div>
        <div id="social-feed-preview-container" style="padding: 0 12px 12px;">
          <!-- Preview content will be injected here by social-feed-preview.js -->
        </div>
      </div>
    </section> <button aria-label="Add Book" class="add-book" id="add-book-btn" onclick="location.href='add-book.html'"
      title="Add Book" type="button"><i class="fas fa-plus"></i></button> <!-- Multi-select Action Bar -->
    <div id="multiSelectBar" class="multi-select-bar"> <button id="cancelSelectBtn"
        class="btn btn-secondary">Cancel</button>
      <div id="selectCount" class="select-count">0 books selected</div> <button id="deleteSelectedBtn"
        class="btn btn-danger" disabled>Delete</button>
    </div>
  </div> <!-- Scripts -->
  <script src="reset-utils.js"></script>
  <script src="nav.js" defer></script>
  <script src="profiles.js" defer></script>
  <script src="activity.js" defer></script>
  <script src="social-feed.js" defer></script>
  <script src="script.js" defer></script>
  <script src="toast.js" defer></script>
  <script src="timer.js" defer></script>
  <script src="sync.js" defer></script>
  <script src="social-feed-preview.js" defer></script>
  <script src="i18n.js?v=1" defer></script>
  <script src="header-actions.js" defer></script>
  <script src="index-actions.js?v=greet3" defer></script>
  <script src="goal-badge.js" defer></script>
  <script src="multi-select.js" defer></script>
  <script src="library-enricher.js" defer></script>
  <script> requireAuth(() => { if (window.renderSocialFeedPreview) { window.renderSocialFeedPreview(); } }); </script>
</body>

</html>