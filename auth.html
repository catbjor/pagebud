<!DOCTYPE html>
<html lang="en">

<head>
    <script src="theme-init.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sign in – PageBud</title>

    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="auth.css" />

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="firebase-init.js?v=dev-1"></script>
    <script src="profiles.js"></script>

    <!-- Firebase config -->
    <script>
        window.__PB_FIREBASE = {
            apiKey: "AIzaSyCEV-dncbQSnP7q9AvF2_Re93l-VHN-2cg",
            authDomain: "pagebud-cb6d9.firebaseapp.com",
            projectId: "pagebud-cb6d9",
            storageBucket: "pagebud-cb6d9.firebasestorage.app",
            messagingSenderId: "974455288174",
            appId: "1:974455288174:web:84d8a2e442ca193391d17f",
            measurementId: "G-TK4VCBT1V9"
        };
    </script>
</head>

<body class="auth-bg">
    <div class="auth-shell">
        <!-- Login view -->
        <div class="auth-card glass" id="view-login" aria-hidden="false">
            <h1 class="auth-title">Log into your account</h1>
            <form class="auth-form" id="emailForm">
                <label>Username/Email</label>
                <input id="email" placeholder="you@example.com" required type="email" autocomplete="email" />

                <div class="row row-inline">
                    <label>Password</label>
                    <a id="forgotLink" class="link-muted" href="#" aria-label="Forgot password">Forgot?</a>
                </div>
                <input id="password" minlength="6" placeholder="••••••••" required type="password"
                    autocomplete="current-password" />

                <label class="chk">
                    <input id="remember" type="checkbox" />
                    <span>Remember me</span>
                </label>

                <button class="btn btn-dark" type="submit">Log In</button>
            </form>

            <div class="auth-footer-single">
                <button id="toSignup" class="btn btn-light-outline">Create account</button>
            </div>
        </div>

        <!-- Signup view -->
        <div class="auth-card glass" id="view-signup" aria-hidden="true" style="display:none">
            <div class="progress-dots" aria-hidden="true">
                <span class="dot active"></span><span class="dot"></span><span class="dot"></span><span
                    class="dot"></span>
            </div>
            <h1 class="auth-title center">Create account</h1>
            <div id="greeting" class="signup-greeting" aria-live="polite"></div>

            <form class="auth-form" id="createForm">
                <label>Name</label>
                <input id="firstName" placeholder="First name" required type="text" autocomplete="given-name" />

                <label>Email</label>
                <input id="emailCreate" placeholder="you@example.com" required type="email" autocomplete="email" />

                <label>Password</label>
                <input id="passwordCreate" minlength="6" placeholder="At least 6 characters" required type="password"
                    autocomplete="new-password" />

                <button class="btn btn-dark" type="submit">Continue</button>
            </form>

            <div class="auth-footer-single">
                <button id="toLogin" class="btn btn-light-outline">Back to Log In</button>
            </div>
        </div>
    </div>

    <!-- ✅ Offline notice -->
    <div id="offlineNotice" class="toast" style="display:none">
        <i class="fas fa-wifi-slash"></i> You’re offline
    </div>

    <!-- ✅ Scripts -->
    <script src="auth.js" defer></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js"></script>
    <script>
        const offlineNotice = document.getElementById('offlineNotice');
        function updateOnlineStatus() {
            offlineNotice.style.display = navigator.onLine ? "none" : "block";
        }
        window.addEventListener("online", updateOnlineStatus);
        window.addEventListener("offline", updateOnlineStatus);
        updateOnlineStatus();
    </script>
</body>

</html>