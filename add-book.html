<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <title>Add Book - PageBud</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="style.css?v=2025-08-26-17"/>
  <link rel="manifest" href="manifest.json">

  <!-- iOS PWA polish -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <meta name="theme-color" content="#111111">

  <!-- Cover extraction libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <div class="add-book-header header">
      <h1>Add Book</h1>
      <div class="back-button" onclick="location.href='index.html'"><i class="fas fa-arrow-left"></i></div>
    </div>

    <!-- Cover -->
    <div class="cover-upload">
      <div id="cover" class="cover-image">
        <i id="coverIcon" class="fas fa-book"></i>
      </div>
      <button id="pickCover" class="upload-btn">Upload Cover</button>
      <input id="coverInput" type="file" accept="image/*" hidden />
    </div>

    <!-- Form -->
    <div class="form-group">
      <label for="title">Title</label>
      <input id="title" type="text" placeholder="Book title‚Ä¶"/>
    </div>

    <div class="form-group">
      <label for="author">Author</label>
      <input id="author" type="text" placeholder="Author name‚Ä¶"/>
    </div>

    <div class="form-group">
      <label for="status">Status</label>
      <select id="status">
        <option value="reading">Reading</option>
        <option value="finished">Finished</option>
        <option value="want">Want</option>
        <option value="dnf">DNF</option>
        <option value="owned">Owned</option>
        <option value="wishlist">Wishlist</option>
      </select>
    </div>

    <div class="form-group">
      <label>Rating</label>
      <div id="stars" class="star-rating">
        <!-- Populated by script.js -->
      </div>
      <div id="ratingVal" class="rating-value" data-value="0">Selected: 0</div>
    </div>

    <!-- Genres -->
    <details class="chip-toggle" id="genresBox">
      <summary>Genres</summary>
      <div class="chip-scroll" id="genres">
        <!-- Kept concise -->
        <div class="toggle-option" data-val="fantasy">Fantasy</div>
        <div class="toggle-option" data-val="romance">Romance</div>
        <div class="toggle-option" data-val="sci-fi">Sci-Fi</div>
        <div class="toggle-option" data-val="mystery">Mystery</div>
        <div class="toggle-option" data-val="thriller">Thriller</div>
        <div class="toggle-option" data-val="horror">Horror</div>
        <div class="toggle-option" data-val="contemporary">Contemporary</div>
        <div class="toggle-option" data-val="historical">Historical</div>
        <div class="toggle-option" data-val="nonfiction">Non-fiction</div>
        <div class="toggle-option" data-val="biography">Biography</div>
        <div class="toggle-option" data-val="memoir">Memoir</div>
        <div class="toggle-option" data-val="self-help">Self-Help</div>
        <div class="toggle-option" data-val="business">Business</div>
        <div class="toggle-option" data-val="poetry">Poetry</div>
        <div class="toggle-option" data-val="classics">Classics</div>
        <div class="toggle-option" data-val="ya">YA</div>
        <div class="toggle-option" data-val="urban-fantasy">Urban Fantasy</div>
        <div class="toggle-option" data-val="graphic-novel">Graphic Novel</div>
        <div class="toggle-option" data-val="short-stories">Short Stories</div>
        <div class="toggle-option" data-val="true-crime">True Crime</div>
      </div>
    </details>

    <!-- Moods -->
    <details class="chip-toggle" id="moodsBox">
      <summary>Moods</summary>
      <div class="chip-scroll" id="moods">
        <div class="toggle-option" data-val="cozy">üß° Cozy</div>
        <div class="toggle-option" data-val="funny">ü§£ Funny</div>
        <div class="toggle-option" data-val="feel-good">ü•∞ Feel-good</div>
        <div class="toggle-option" data-val="dark">üßü‚Äç‚ôÄÔ∏è Dark</div>
        <div class="toggle-option" data-val="creepy">üò± Creepy</div>
        <div class="toggle-option" data-val="twisty">üåÄ Twisty</div>
        <div class="toggle-option" data-val="thoughtful">üß† Thought-provoking</div>
        <div class="toggle-option" data-val="fast">‚ö° Fast-paced</div>
        <div class="toggle-option" data-val="slow-burn">üê¢ Slow-burn</div>
      </div>
    </details>

    <!-- Tropes -->
    <details class="chip-toggle" id="tropesBox">
      <summary>Tropes</summary>
      <div class="chip-scroll" id="tropes">
        <div class="toggle-option" data-val="enemies-to-lovers">Enemies to Lovers</div>
        <div class="toggle-option" data-val="friends-to-lovers">Friends to Lovers</div>
        <div class="toggle-option" data-val="fake-dating">Fake Dating</div>
        <div class="toggle-option" data-val="slow-burn">Slow Burn</div>
        <div class="toggle-option" data-val="grumpy-sunshine">Grumpy x Sunshine</div>
      </div>
    </details>

    <div class="form-group">
      <label for="review">Review</label>
      <textarea id="review" placeholder="Write your review‚Ä¶"></textarea>
    </div>

    <div class="form-group">
      <label for="notes">Notes</label>
      <textarea id="notes" placeholder="Add your notes‚Ä¶"></textarea>
    </div>

    <div class="form-group">
      <label>Quotes</label>
      <textarea id="quoteText" placeholder="Add a quote‚Ä¶"></textarea>

      <div class="quote-options" style="margin-top:10px">
        <div id="qText" class="quote-option selected">
          <i class="fas fa-font"></i><div>Text</div>
        </div>
        <div id="qGallery" class="quote-option">
          <i class="fas fa-image"></i><div>Gallery</div>
        </div>
      </div>

      <button id="addQuote" class="btn btn-secondary" style="margin-top:12px">+ Add Quote</button>
      <div id="quotes" class="quotes-grid" style="margin-top:12px"></div>
    </div>

    <div class="form-group">
      <label>Book File (PDF/EPUB)</label>
      <button id="upload-file-btn" class="btn btn-secondary"><i class="fas fa-upload"></i>&nbsp; Upload Book File</button>
      <input id="bookFile" type="file" accept=".pdf,.epub" hidden />
      <div id="fileName" class="muted" style="margin-top:8px">No file attached</div>
    </div>

    <div class="btn-group">
      <button class="btn btn-secondary" onclick="location.href='index.html'">Cancel</button>
      <button id="save-book-btn" class="btn btn-primary">Save Book</button>
    </div>

    <!-- Bottom nav -->
    <nav class="bottom-nav">
      <div class="nav-item" onclick="location.href='index.html'">
        <i class="fas fa-book"></i> Library
      </div>
      <div class="nav-item" onclick="location.href='stats.html'">
        <i class="fas fa-chart-line"></i> Stats
      </div>
      <div class="nav-item" onclick="location.href='buddy-read.html'">
        <i class="fas fa-users"></i> Buddy Read
      </div>
    </nav>
  </div>

  <script src="script.js?v=2025-08-26-17"></script>
</body>
</html>
